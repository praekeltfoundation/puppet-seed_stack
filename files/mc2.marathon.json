{
  "id": "/seed-infra-mc2",
  "apps": [
    {
      "id": "/seed-infra-mc2/mc2",
      "cpus": 0.1,
      "mem": 256.0,
      "labels": {
        "domain": "mc2.127.0.0.1.xip.io"
      },
      "container": {
        "type": "DOCKER",
        "docker": {
          "image": "praekeltfoundation/mc2",
          "forcePullImage": true,
          "network": "BRIDGE",
          "portMappings": [
            { "containerPort": 80, "hostPort": 0 }
          ],
          "parameters": [
            {"key": "volume-driver", "value": "xylem"},
            {"key": "volume", "value": "seed-infra-mc2:/data"}
          ]
        }
      },
      "env": {
        "MESOS_MARATHON_HOST": "http://marathon.service.consul:8080",
        "SECRET_KEY": "seekrit",
        "PROJECT_ROOT": "/deploy/",
        "DATABASE_URL": "sqlite:////data/mc2.db",
        "DEBUG": "False"
      },
      "healthChecks": [
        {
          "protocol": "HTTP",
          "path": "/",
          "gracePeriodSeconds": 3,
          "intervalSeconds": 10,
          "portIndex": 0,
          "timeoutSeconds": 10,
          "maxConsecutiveFailures": 3
        }
      ]
    }
  ]
}
